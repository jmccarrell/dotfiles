#!/usr/local/bin/zsh --norcs
# search Jeffs sift notes locations with the silver searcher

readonly -a source_dirs=(
    ${HOME}/sift/notes
    ${HOME}/sift/todo
    ${HOME}/sift/pdata/notes
    ${HOME}/sift/pdata/todo
)

declare -a ag_dirs=()
for d in ${source_dirs[@]}; do
    if [ -d "$d" ]; then
        ag_dirs+=("$d")
    fi
done

if (( ${#ag_dirs[@]} <= 0 )); then
   echo "no directories to search"
   exit 1
fi

ag "$@" ${ag_dirs[@]}
